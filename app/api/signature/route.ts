import { NextRequest, NextResponse } from "next/server";

export async function POST(request: NextRequest) {
  try {
    const formData = await request.formData();

    // Extract data from formData
    const firstName = formData.get("firstName");
    const lastName = formData.get("lastName");
    const phone = formData.get("phone");
    const position = formData.get("position");
    const photo = formData.get("photo");

    // Example: Generate the HTML email signature (simplified version)
    const signatureHtml = `
      <table style="max-width: 650px; width: 100%; font-family: Calibri, Arial, sans-serif; padding: 2px;" cellpadding="0" cellspacing="0" role="presentation">
        <tr>
            <td width="64px" align="left" style="vertical-align: top; padding-right: 8px;">
          <div style="width: 64px; height: 64px;">
<img alt="" width="64px" height="64px" style="width: 64px; height: 64px; border-radius: 50%;" src="data:image/png;base64,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" />
          </div>
        </td>
        <td width="100%" style="width: 100%;">
          <table width="100%" style="width: 100%;" cellpadding="0" cellspacing="0" role="presentation">
            <tr>
            <td style="font-size: 14px; line-height: 16px; font-weight: 600; color: #000000; padding-bottom: 4px; font-family: Calibri, Arial, sans-serif;">${firstName} ${lastName}</td>
            </tr>
            <tr>
            <td style="font-size: 14px; line-height: 16px; font-weight: 400; color: #4C4D4E; padding-bottom: 4px; font-family: Calibri, Arial, sans-serif;">${position}</td>
            </tr>
            <tr>
            <td style="font-size: 14px; line-height: 16px; padding-bottom: 4px;">
              <p style="display: inline-block; margin: 0; font-size: 14px; line-height: 16px; color: #000000;">
                <span style="font-family: Calibri, Arial, sans-serif;">WhatsApp: </span>
                <a href="tel:${phone}" style="display: inline-block; font-size: 14px; line-height: 16px; color: #4C4D4E; text-decoration: none; font-family: Calibri, Arial, sans-serif;">${phone}</a>
              </p> 
            </td>
            </tr>
            <tr>
            <td style="font-size: 14px; line-height: 16px; padding-bottom: 4px;">
              <p style="display: inline-block; margin: 0; font-size: 14px; line-height: 16px; color: #000000;">
                <span style="font-family: Calibri, Arial, sans-serif;">Book a call: </span>
                <a href="https://calendly.com/denis-maksymenko/ukad" style="display: inline-block; font-size: 14px; line-height: 16px; color: #5574C9; font-family: Calibri, Arial, sans-serif;">Calendly</a>
              </p>
            </td>
            </tr>
          </table>
        </td>
        <td width="70px" align="right" style="vertical-align: top;">
        <div style="width: 64px; height: 16px;">
          <img alt="" width="64px" height="16px" style="width: 64px; height: 16px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOiSURBVHgBtVdNUttQDJac0KR0kyOYEwA3CCeALNoSNgmLTpOZzhCfgHACO4sOnXaB2UBbFoQTJD1B0xNgTlB2JC2xKjn+eXbsJKTkm/F4/Czp6e9JerjfMNsIeAxxOAS08/WT4UAGmE9nvtvgm+kPmd7m9TqvnwXrmMvrFx8/3Km8B+87R4Rkzduv2rRMFtxS9hCafoouZd6zBylAgnvSwOH34BHp5vup0VX/ayywTQBJoWJcT4yEZ0a12aktYrwHgj31MyVQc0EIJZazxTbWc4TX1YZ1q9ql7Tc6xwhQTuHVEfF6r2WW4Jlw8M7cQjcyXqKDY6qkGS+ZJDoklssSbfg/iF0/X7Mu8qEBuOccgQ3l2QlJ2XPFYTwKy8LzuoY9LyI+XCTj4osxSKPPijYHa74+LlUCe9jB23I8edUJ/xOU8rlJcPNJ77Oi8Nzw60XMeAQ6ueSakUFfhuno+4xYY8XbXcu4hwzwmb9P2CVOtqsN02YBNX9NfzmCugYrhjv+u+EXKD1YE+MvuPZk8WiRkh78CAYfpfVhVBifggLzybGLZOHuyh2gceGBWDSpM8t4yRYpWCE1R066i1qoCfEIloBtG9IR+uECwtbKHaCmvb+pM4teS5z98Zg6HptLN5FQKC1dDInuVDkrd8C0AmjOUp7iHal/5RfJwh+w1fRdpiWmYREH6GmLYw2e0h4d9UMGpbT2OtX6UCJtnckzLKLJ2aQWvqVaIgFuhuJ5OJpygFTPmKcpYlCRf4w7Bl3IqsrOQ5G25ewra/qrh+kITkWV2zC3vXrwQCIYC7VEBZNuFGWYC3SXmgEuwkDZZS91ItQw1i+5uKT280cedKRlcQVug5IJvEfrTdPcU5QrQ1bry8KkJS6UiZ7x6BXkiJ3AzqeT0zn/LoeEk7H4ZDyGQS4HJT9Sekg9qdROmqS1F2u/5S0VmCfBijoM5fgosNyB8ErrI1UDtfXFoYeZ4rdENzHKI1d3ZZ4Rwzc5Q+ssP3IWB/nys9HFjE3YY1YvY0SOQY4LT3TbgQPmXYbeNs0Wt0Y1e/pibPxiJQ5tHS6kG9cFIqpkXYYyEN4/MotgcUgV1qQ7TxCPnTNvjUl8OzWshNypm1zQ+rKQbIkc4V1YFLy31KRA53wWnaQsvyqTyow1TW5UnLre9ZLThz34Y1gEKzmSesVQm93rCyM6HBVQh/iM4PgKDq4y7gchP7fEUQFqAT9xENgJDqQb7OnLTvv1sA52Ut9/qenAJqWDtB0AAAAASUVORK5CYII=">
          </div>
        </td>
        </tr>
        <tr>
          <td colspan="3" style="font-size: 12px; color: #4C4D4E; padding-top: 6px;">
            <p style="margin: 0; font-family: Calibri, Arial, sans-serif;">This message contains confidential information and is intended only for the individual named. If you are not the named addressee, you should not disseminate, distribute or copy this email. Please notify the sender immediately by email if you have received this email by mistake and delete this email from your system.</p>
          </td>
        </tr>
      </table>
    `;

    // Save photo file if necessary (e.g., to a static folder or cloud storage)
    // You would need to handle the file upload logic here

    // Return the generated HTML signature
    return NextResponse.json({ html: signatureHtml });
  } catch (error) {
    console.error(error);
    return NextResponse.error();
  }
}
